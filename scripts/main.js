"use strict";$(function(){var t=$("video")[0],e=$("canvas")[0],i=!1,a=0,o=0;navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getMedia({video:!0,audio:!1},function(e){if(navigator.mozGetUserMedia)t.mozSrcObject=e;else{var i=window.URL||window.webkitURL;t.src=i.createObjectURL(e)}t.play()},function(t){window.console}),t.addEventListener("canplay",function(n){i||(a=$("video").width(),o=$("video").height(),t.setAttribute("width",a),t.setAttribute("height",o),e.setAttribute("width",a),e.setAttribute("height",o),i=!0)},!1);var n="live";$("#action-button").click(function(i){"live"==n?($(".overlay").css("display","block"),setTimeout(function(){n="result",$(".overlay").css("display","none"),$("#action-button").text("Reset"),$("video").css("display","none");var i=e.getContext("2d");a&&o&&(e.width=a,e.height=o,i.drawImage(t,0,0,a,o)),$("canvas").css("display","block")},2e3)):"result"==n&&(n="live",$("#action-button").text("Snap!"),$("video").css("display","block"),$("canvas").css("display","none"))})});