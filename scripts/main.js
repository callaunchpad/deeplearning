"use strict";$(function(){var e=$("video")[0],t=$("canvas")[0],i=!1,a=0,o=0;navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getMedia({video:!0,audio:!1},function(t){if(navigator.mozGetUserMedia)e.mozSrcObject=t;else{var i=window.URL||window.webkitURL;e.src=i.createObjectURL(t)}e.play()},function(e){window.console}),e.addEventListener("canplay",function(n){i||(a=$("video").width(),o=$("video").height(),e.setAttribute("width",a),e.setAttribute("height",o),t.setAttribute("width",a),t.setAttribute("height",o),i=!0)},!1);var n="live",s=!1;$("#action-button").click(function(i){if("live"==n){$(".overlay").css("display","block");var d=t.getContext("2d");a&&o&&(t.width=a,t.height=o,d.drawImage(e,0,0,a,o)),s=t.toDataURL("image/png"),$("video").css("display","none"),$("canvas").css("display","block"),setTimeout(function(){n="result",$(".overlay").css("display","none"),$("#action-button").text("Reset")},2e3)}else"result"==n&&(n="live",$("#action-button").text("Snap!"),$("video").css("display","block"),$("canvas").css("display","none"))})});var mode="f1",changeMode=function(e){mode=e};